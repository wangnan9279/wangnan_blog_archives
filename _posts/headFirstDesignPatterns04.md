---
title: 《HeadFirst设计模式》书摘-模板方法/模式迭代器/组合
date: 2017-04-23 16:30:38
tags: [设计模式]
categories: 书摘
link_title: headFirstDesignPatterns04
thumbnailImage: https://upload-images.jianshu.io/upload_images/79431-9c7528524c137f05.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/232/format/webp
thumbnailImagePosition: left
---
<!-- toc -->
<!-- more -->
![](https://upload-images.jianshu.io/upload_images/79431-9c7528524c137f05.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/232/format/webp)
# 模板方法模式
## 定义
在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中，模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤

## get到的oo原则
- 别找我，我会找你

## 要点
- “模板方法”定义了算法的步骤，把这些步骤的实现延迟到子类
- 模板方法模式为我们提供了一种代码复用的重要技巧
- 模板方法的抽象类可以定义具体方法，抽象方法
- 抽象方法由子类实现
- 钩子是一种方法，它在抽象类中不做事，或者只做默认的事情，子类可以选择不要去覆盖它
- 为了防止子类改变模板方法中的算法，可以将模板方法声明为final
- 好莱坞原则告诉我们，将决策权放在高层模块中，以便决定如何以及何时调用低层模块
- 你将在真实世界代码中看到模板方法模式的许多变体，不要期待他们全都是一眼就可以被认出来的
- 策略模式和模板方法模式都是封装算法，一个用组合，一个用继承
- 工厂方法时模板方法一种特殊版本

# 迭代器模式/组合模式
## 迭代器模式定义
提供一种方法顺序访问一个聚合对象的各个元素，而不暴露内部的表示
## 组合模式定义
允许你将对象组成树形结构来表现“整体/部分”的层次结构，组合能让客户以一致的方式处理个别对象和对象组合
## 要点
- 迭代器允许访问聚合的元素，而不需要暴露它的内部结构
- 迭代器将遍历聚合的工作封装进一个对象中
- 当使用迭代器的时候，我们依赖聚合提供遍历
- 迭代器提供了一个通用的接口，让我们遍历聚合的项，当我们编码使用聚合的项时，就可以使用多态机制
- 我们应该努力让一个类只分配一个责任
- 组合模式提供一个结构可同时包容个别对象和组合对象
- 组合模式允许客户对个别对象以及组合对象一视同仁
- 组合结构内的任意对象称为组件，组件可以是组合，也可以是叶子节点
