---
title: Linux常用命令之vi
tags: [Linux]
date: 2017-03-22 11:37:45
categories: Linux
link_title: linux-vi
---
> vi编辑器是Linux和Unix上最基本的文本编辑器，工作在字符模式下。由于不需要图形界面，vi是效率很高的文本编辑器

<!-- more -->

## 翻页
j 向下移动一行； 
k 向上移动一行； 
h 向左移动一个字符； 
l 向右移动一个字符； 
**ctrl+b 向上移动一屏；** 
**ctrl+f 向下移动一屏； **
向上箭头 向上移动； 
向下箭头 向下移动； 
向左箭头 向左移动； 
向右箭头 向右移动； 
我们编辑一个文件时，对于 j、k、l和h键，还能在这些动作命令的前面加上数字，比如 3j，表示向下移动3行。

## 跳到文件头和文件尾
### 跳到文件头 
:1 或 gg 
### 跳到文件尾 
:$ 或 G （大写。当前若大小写锁定直接按g，未锁定则按shift+g）

## vi统计某个匹配出现的次数 
### 上句统计hello world 在全文出现的次数。 
:%s/hello world/&/gn 

### 如果要统计从50行到100行，出现的次数，则使用 
:50,100s/hello world//gn

## 查找和替换功能
首先，我们要进入ESC键，进入命令模式；
我们输入/或?就进入查找模式了；  
/SEARCH  注：正向查找，按n键把光标移动到下一个符合条件的地方； 
?SEARCH  注：反向查找，按shiftn 键，把光标移动到下一个符合条件的  
举一例：比如我想在一个文件中找到ab单词，我应该如下做:首先按ESC键，进入命令模式，然后输入/ab  或 ?ab

## 退出与保存
按ESC键 跳到命令模式，然后：
:w   保存文件但不退出vi
:w file 将修改另外保存到file中，不退出vi
:w!   强制保存，不退出vi
**:wq  保存文件并退出vi**
**:wq! 强制保存文件，并退出vi**
**:q  不保存文件，退出vi**
**:q! 不保存文件，强制退出vi**
:e! 放弃所有修改，从上次保存文件开始再编辑
